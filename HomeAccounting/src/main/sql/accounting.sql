CREATE TABLE money_account(
	id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	name VARCHAR(50) NOT NULL,
	amount NUMERIC(10, 2)
);

CREATE TABLE category(
	id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	name VARCHAR(50) NOT NULL
);

CREATE TABLE expense_record(
	id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	date_operation TIMESTAMP NOT NULL,
	sum NUMERIC(10, 2) CHECK(sum > 0),
	money_account_id INT REFERENCES money_account(id) ON DELETE SET NULL,
	category_id INT REFERENCES category(id) ON DELETE SET NULL
);

CREATE TABLE role(
	id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	name VARCHAR(50) NOT NULL
);

CREATE TABLE app_user(
	id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	username VARCHAR(50) NOT NULL,
	password VARCHAR NOT NULL,
	role_id INT REFERENCES role(id) NOT NULL
);

INSERT INTO role(name) VALUES ('ADMIN');
INSERT INTO role(name) VALUES ('USER');



